<Window x:Class="MyWpfApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Máquina Expendedora" Height="600" Width="900" WindowState="Maximized">

    <Window.Resources>
        <!-- Mantener los mismos estilos que ya tienes -->
        <SolidColorBrush x:Key="AccentBrush">#2D7FF6</SolidColorBrush>
        <SolidColorBrush x:Key="SurfaceBrush">#F6F8FA</SolidColorBrush>
        <SolidColorBrush x:Key="TextBrush">#1B1B1F</SolidColorBrush>

        <Style x:Key="PrimaryButton" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource AccentBrush}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="Margin" Value="6"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="MinWidth" Value="120"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="12,4"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- AGREGAR ESTE ESTILO QUE FALTA -->
        <Style x:Key="SecondaryButton" TargetType="Button" BasedOn="{StaticResource PrimaryButton}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E3E7EB"/>
        </Style>

        <Style x:Key="ProductButton" TargetType="Button" BasedOn="{StaticResource PrimaryButton}">
            <Setter Property="MinWidth" Value="150"/>
            <Setter Property="MinHeight" Value="60"/>
            <Setter Property="FontSize" Value="14"/>
        </Style>

        <Style x:Key="MoneyButton" TargetType="Button" BasedOn="{StaticResource PrimaryButton}">
            <Setter Property="MinWidth" Value="80"/>
            <Setter Property="MinHeight" Value="40"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>
    </Window.Resources>

    <Grid Background="{StaticResource SurfaceBrush}" Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="300"/>
        </Grid.ColumnDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Text="Máquina Expendedora" 
                   FontSize="24" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,20"
                   Foreground="{StaticResource TextBrush}"/>

        <!-- Panel de Productos -->
        <Border Grid.Row="1" Grid.Column="0" Background="White" CornerRadius="8" Padding="15" 
                Margin="0,0,10,0" BorderBrush="#E3E7EB" BorderThickness="1">
            <ScrollViewer>
                <StackPanel>
                    <TextBlock Text="Seleccione un Producto:" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,10"/>
                    
                    <!-- Productos -->
                    <ItemsControl x:Name="ProductosContainer">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Button Content="{Binding DisplayText}" Style="{StaticResource ProductButton}" 
                                        Click="ProductButton_Click" Tag="{Binding}" Margin="5"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>

                    <!-- Panel de Pago -->
                    <StackPanel Margin="0,20,0,0">
                        <TextBlock Text="Ingrese su pago:" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,10"/>
                        
                        <WrapPanel x:Name="MoneyButtonsPanel" Margin="0,0,0,15">
                            <!-- Los botones de dinero se generarán en código -->
                        </WrapPanel>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <TextBlock Text="Total ingresado: $" FontSize="14" VerticalAlignment="Center"/>
                            <TextBlock x:Name="txtTotalIngresado" Text="0.00" FontSize="16" FontWeight="Bold" 
                                       VerticalAlignment="Center" Margin="5,0,0,0" Foreground="{StaticResource AccentBrush}"/>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Panel de Información -->
        <Border Grid.Row="1" Grid.Column="1" Background="White" CornerRadius="8" Padding="15" 
                BorderBrush="#E3E7EB" BorderThickness="1">
            <StackPanel>
                <TextBlock Text="Información de Compra:" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,15"/>
                
                <TextBlock x:Name="txtProductoSeleccionado" Text="Producto: Ninguno" FontSize="14" Margin="0,0,0,5"/>
                <TextBlock x:Name="txtPrecioProducto" Text="Precio: $0.00" FontSize="14" Margin="0,0,0,5"/>
                <TextBlock x:Name="txtCambio" Text="Cambio: $0.00" FontSize="14" Margin="0,0,0,15"/>
                
                <Border Background="#FFF0F0" CornerRadius="5" Padding="10" Margin="0,0,0,15">
                    <TextBlock x:Name="txtMensaje" Text="Seleccione un producto e ingrese el pago" 
                               FontSize="13" TextWrapping="Wrap" Foreground="#666"/>
                </Border>

                <Button x:Name="btnComprar" Content="Realizar Compra" Click="BtnComprar_Click" 
                        Style="{StaticResource PrimaryButton}" Margin="0,10,0,5"/>
                <Button x:Name="btnCancelar" Content="Cancelar Compra" Click="BtnCancelar_Click" 
                        Style="{StaticResource SecondaryButton}" Margin="0,5,0,15"/>

                <!-- Panel Admin -->
                <Separator Margin="0,10,0,10"/>
                <TextBlock Text="Panel Administrador:" FontSize="14" FontWeight="SemiBold" Margin="0,0,0,10"/>
                <Button x:Name="btnRecargar" Content="Recargar Máquina" Click="BtnRecargar_Click" 
                        Style="{StaticResource SecondaryButton}" Margin="0,5"/>
                <Button x:Name="btnVerEstado" Content="Ver Estado" Click="BtnVerEstado_Click" 
                        Style="{StaticResource SecondaryButton}" Margin="0,5"/>
            </StackPanel>
        </Border>

        <!-- Estado -->
        <Border Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Background="White" CornerRadius="8" 
                Padding="10" Margin="0,10,0,0" BorderBrush="#E3E7EB" BorderThickness="1">
            <TextBlock x:Name="txtEstado" Text="Máquina lista para usar" FontSize="12" Foreground="#666"/>
        </Border>
    </Grid>
</Window>